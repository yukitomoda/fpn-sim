(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const wn=!0,yn=(e,t)=>e===t,bn=Symbol("solid-dev-component"),Ke={equals:yn};let Gt=Kt;const Oe=1,Ye=2,Sn={};var z=null;let vt=null,Nn=null,G=null,oe=null,Ae=null,ot=0;function En(e,t){const n=G,i=z,r=e.length===0,o=t===void 0?i:t,l=r?{owned:null,cleanups:null,context:null,owner:null}:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=r?()=>e(()=>{throw new Error("Dispose method must be an explicit argument to createRoot function")}):()=>e(()=>Ie(()=>Ze(l)));z=l,G=null;try{return He(a,!0)}finally{G=n,z=i}}function pe(e,t){t=t?Object.assign({},Ke,t):Ke;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0};t.name&&(n.name=t.name),t.internal?n.internal=!0:An(n);const i=r=>(typeof r=="function"&&(r=r(n.value)),Wt(n,r));return[zt.bind(n),i]}function Te(e,t,n){const i=st(e,t,!1,Oe,n);Fe(i)}function Ve(e,t,n){Gt=Cn;const i=st(e,t,!1,Oe,n);i.user=!0,Ae?Ae.push(i):Fe(i)}function bt(e,t,n){n=n?Object.assign({},Ke,n):Ke;const i=st(e,t,!0,0,n);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,Fe(i),zt.bind(i)}function Ie(e){if(G===null)return e();const t=G;G=null;try{return e()}finally{G=t}}function In(e){Ve(()=>Ie(e))}function _n(e,t){const n=st(()=>Ie(()=>(Object.assign(e,{[bn]:!0}),e(t))),void 0,!0,0);return n.props=t,n.observers=null,n.observerSlots=null,n.name=e.name,n.component=e,Fe(n),n.tValue!==void 0?n.tValue:n.value}function An(e){z&&(z.sourceMap?z.sourceMap.push(e):z.sourceMap=[e],e.graph=z)}function zt(){if(this.sources&&this.state)if(this.state===Oe)Fe(this);else{const e=oe;oe=null,He(()=>et(this),!1),oe=e}if(G){const e=this.observers?this.observers.length:0;G.sources?(G.sources.push(this),G.sourceSlots.push(e)):(G.sources=[this],G.sourceSlots=[e]),this.observers?(this.observers.push(G),this.observerSlots.push(G.sources.length-1)):(this.observers=[G],this.observerSlots=[G.sources.length-1])}return this.value}function Wt(e,t,n){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&He(()=>{for(let r=0;r<e.observers.length;r+=1){const o=e.observers[r],l=vt&&vt.running;l&&vt.disposed.has(o),(l?!o.tState:!o.state)&&(o.pure?oe.push(o):Ae.push(o),o.observers&&Yt(o)),l||(o.state=Oe)}if(oe.length>1e6)throw oe=[],wn?new Error("Potential Infinite Loop Detected."):new Error},!1)),t}function Fe(e){if(!e.fn)return;Ze(e);const t=ot;Mn(e,e.value,t)}function Mn(e,t,n){let i;const r=z,o=G;G=z=e;try{i=e.fn(t)}catch(l){return e.pure&&(e.state=Oe,e.owned&&e.owned.forEach(Ze),e.owned=null),e.updatedAt=n+1,Qt(l)}finally{G=o,z=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Wt(e,i):e.value=i,e.updatedAt=n)}function st(e,t,n,i=Oe,r){const o={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:z,context:z?z.context:null,pure:n};return z===null?console.warn("computations created outside a `createRoot` or `render` will never be disposed"):z!==Sn&&(z.owned?z.owned.push(o):z.owned=[o]),r&&r.name&&(o.name=r.name),o}function Qe(e){if(e.state===0)return;if(e.state===Ye)return et(e);if(e.suspense&&Ie(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ot);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Oe)Fe(e);else if(e.state===Ye){const i=oe;oe=null,He(()=>et(e,t[0]),!1),oe=i}}function He(e,t){if(oe)return e();let n=!1;t||(oe=[]),Ae?n=!0:Ae=[],ot++;try{const i=e();return $n(n),i}catch(i){n||(Ae=null),oe=null,Qt(i)}}function $n(e){if(oe&&(Kt(oe),oe=null),e)return;const t=Ae;Ae=null,t.length&&He(()=>Gt(t),!1)}function Kt(e){for(let t=0;t<e.length;t++)Qe(e[t])}function Cn(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:Qe(i)}for(t=0;t<n;t++)Qe(e[t])}function et(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const i=e.sources[n];if(i.sources){const r=i.state;r===Oe?i!==t&&(!i.updatedAt||i.updatedAt<ot)&&Qe(i):r===Ye&&et(i,t)}}}function Yt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Ye,n.pure?oe.push(n):Ae.push(n),n.observers&&Yt(n))}}function Ze(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const o=r.pop(),l=n.observerSlots.pop();i<r.length&&(o.sourceSlots[l]=i,r[i]=o,n.observerSlots[i]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Ze(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ze(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,delete e.sourceMap}function Bn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Qt(e,t=z){throw Bn(e)}function De(e,t){return _n(e,t||{})}globalThis&&(globalThis.Solid$$?console.warn("You appear to have multiple instances of Solid. This can lead to unexpected behavior."):globalThis.Solid$$=!0);function Pn(e,t,n){let i=n.length,r=t.length,o=i,l=0,a=0,g=t[r-1].nextSibling,c=null;for(;l<r||a<o;){if(t[l]===n[a]){l++,a++;continue}for(;t[r-1]===n[o-1];)r--,o--;if(r===l){const u=o<i?a?n[a-1].nextSibling:n[o-a]:g;for(;a<o;)e.insertBefore(n[a++],u)}else if(o===a)for(;l<r;)(!c||!c.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[o-1]&&n[a]===t[r-1]){const u=t[--r].nextSibling;e.insertBefore(n[a++],t[l++].nextSibling),e.insertBefore(n[--o],u),t[r]=n[o]}else{if(!c){c=new Map;let p=a;for(;p<o;)c.set(n[p],p++)}const u=c.get(t[l]);if(u!=null)if(a<u&&u<o){let p=l,h=1,N;for(;++p<r&&p<o&&!((N=c.get(t[p]))==null||N!==u+h);)h++;if(h>u-a){const A=t[l];for(;a<u;)e.insertBefore(n[a++],A)}else e.replaceChild(n[a++],t[l++])}else l++;else t[l++].remove()}}}const Tt="_$DX_DELEGATE";function On(e,t,n,i={}){if(!t)throw new Error("The `element` passed to `render(..., element)` doesn't exist. Make sure `element` exists in the document.");let r;return En(o=>{r=o,t===document?e():H(t,e(),t.firstChild?null:void 0,n)},i.owner),()=>{r(),t.textContent=""}}function Me(e,t,n,i){let r;const o=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},l=()=>(r||(r=o())).cloneNode(!0);return l.cloneNode=l,l}function Je(e,t=window.document){const n=t[Tt]||(t[Tt]=new Set);for(let i=0,r=e.length;i<r;i++){const o=e[i];n.has(o)||(n.add(o),t.addEventListener(o,Dn))}}function qn(e,t,n){e.setAttribute(t,n)}function mt(e,t){t==null?e.removeAttribute("class"):e.className=t}function xn(e,t,n){return Ie(()=>e(t,n))}function H(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return tt(e,t,i,n);Te(r=>tt(e,t(),r,n),i)}function Dn(e){let t=e.target;const n=`$$${e.type}`,i=e.target,r=e.currentTarget,o=g=>Object.defineProperty(e,"target",{configurable:!0,value:g}),l=()=>{const g=t[n];if(g&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?g.call(t,c,e):g.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},a=()=>{for(;l()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const g=e.composedPath();o(g[0]);for(let c=0;c<g.length-2&&(t=g[c],!!l());c++){if(t._$host){t=t._$host,a();break}if(t.parentNode===r)break}}else a();o(i)}function tt(e,t,n,i,r){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,l=i!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(l){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=Re(e,n,i,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=Re(e,n,i);else{if(o==="function")return Te(()=>{let a=t();for(;typeof a=="function";)a=a();n=tt(e,a,n,i)}),()=>n;if(Array.isArray(t)){const a=[],g=n&&Array.isArray(n);if(St(a,t,n,r))return Te(()=>n=tt(e,a,n,i,!0)),()=>n;if(a.length===0){if(n=Re(e,n,i),l)return n}else g?n.length===0?Rt(e,a,i):Pn(e,n,a):(n&&Re(e),Rt(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=Re(e,n,i,t);Re(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function St(e,t,n,i){let r=!1;for(let o=0,l=t.length;o<l;o++){let a=t[o],g=n&&n[e.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))r=St(e,a,g)||r;else if(c==="function")if(i){for(;typeof a=="function";)a=a();r=St(e,Array.isArray(a)?a:[a],Array.isArray(g)?g:[g])||r}else e.push(a),r=!0;else{const u=String(a);g&&g.nodeType===3&&g.data===u?e.push(g):e.push(document.createTextNode(u))}}return r}function Rt(e,t,n=null){for(let i=0,r=t.length;i<r;i++)e.insertBefore(t[i],n)}function Re(e,t,n,i){if(n===void 0)return e.textContent="";const r=i||document.createTextNode("");if(t.length){let o=!1;for(let l=t.length-1;l>=0;l--){const a=t[l];if(r!==a){const g=a.parentNode===e;!o&&!l?g?e.replaceChild(r,a):e.insertBefore(r,n):g&&a.remove()}else o=!0}}else e.insertBefore(r,n);return[r]}var Tn=Me('<div class=input-section><label for=decimalValue>数値:</label><input type=text id=decimalValue placeholder="例: 3.14159, NaN, Infinity">');const Rn=e=>(()=>{var t=Tn(),n=t.firstChild,i=n.nextSibling;return i.$$input=r=>e.onInput(r.currentTarget.value),Te(()=>i.value=e.value()),t})();Je(["input"]);/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Nt=9e15,qe=1e9,Et="0123456789abcdef",nt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",it="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",It={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:Nt,crypto:!1},en,_e,O=!0,ut="[DecimalError] ",Pe=ut+"Invalid argument: ",tn=ut+"Precision limit exceeded",nn=ut+"crypto unavailable",rn="[object Decimal]",se=Math.floor,Y=Math.pow,Ln=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Fn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,kn=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,on=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,me=1e7,C=7,Vn=9007199254740991,Un=nt.length-1,_t=it.length-1,S={toStringTag:rn};S.absoluteValue=S.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),M(e)};S.ceil=function(){return M(new this.constructor(this),this.e+1,2)};S.clampedTo=S.clamp=function(e,t){var n,i=this,r=i.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(Pe+t);return n=i.cmp(e),n<0?e:i.cmp(t)>0?t:new r(i)};S.comparedTo=S.cmp=function(e){var t,n,i,r,o=this,l=o.d,a=(e=new o.constructor(e)).d,g=o.s,c=e.s;if(!l||!a)return!g||!c?NaN:g!==c?g:l===a?0:!l^g<0?1:-1;if(!l[0]||!a[0])return l[0]?g:a[0]?-c:0;if(g!==c)return g;if(o.e!==e.e)return o.e>e.e^g<0?1:-1;for(i=l.length,r=a.length,t=0,n=i<r?i:r;t<n;++t)if(l[t]!==a[t])return l[t]>a[t]^g<0?1:-1;return i===r?0:i>r^g<0?1:-1};S.cosine=S.cos=function(){var e,t,n=this,i=n.constructor;return n.d?n.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+C,i.rounding=1,n=Zn(i,fn(i,n)),i.precision=e,i.rounding=t,M(_e==2||_e==3?n.neg():n,e,t,!0)):new i(1):new i(NaN)};S.cubeRoot=S.cbrt=function(){var e,t,n,i,r,o,l,a,g,c,u=this,p=u.constructor;if(!u.isFinite()||u.isZero())return new p(u);for(O=!1,o=u.s*Y(u.s*u,1/3),!o||Math.abs(o)==1/0?(n=te(u.d),e=u.e,(o=(e-n.length+1)%3)&&(n+=o==1||o==-2?"0":"00"),o=Y(n,1/3),e=se((e+1)/3)-(e%3==(e<0?-1:2)),o==1/0?n="5e"+e:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),i=new p(n),i.s=u.s):i=new p(o.toString()),l=(e=p.precision)+3;;)if(a=i,g=a.times(a).times(a),c=g.plus(u),i=U(c.plus(u).times(a),c.plus(g),l+2,1),te(a.d).slice(0,l)===(n=te(i.d)).slice(0,l))if(n=n.slice(l-3,l+1),n=="9999"||!r&&n=="4999"){if(!r&&(M(a,e+1,0),a.times(a).times(a).eq(u))){i=a;break}l+=4,r=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(M(i,e+1,1),t=!i.times(i).times(i).eq(u));break}return O=!0,M(i,e,p.rounding,t)};S.decimalPlaces=S.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-se(this.e/C))*C,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};S.dividedBy=S.div=function(e){return U(this,new this.constructor(e))};S.dividedToIntegerBy=S.divToInt=function(e){var t=this,n=t.constructor;return M(U(t,new n(e),0,1,1),n.precision,n.rounding)};S.equals=S.eq=function(e){return this.cmp(e)===0};S.floor=function(){return M(new this.constructor(this),this.e+1,3)};S.greaterThan=S.gt=function(e){return this.cmp(e)>0};S.greaterThanOrEqualTo=S.gte=function(e){var t=this.cmp(e);return t==1||t===0};S.hyperbolicCosine=S.cosh=function(){var e,t,n,i,r,o=this,l=o.constructor,a=new l(1);if(!o.isFinite())return new l(o.s?1/0:NaN);if(o.isZero())return a;n=l.precision,i=l.rounding,l.precision=n+Math.max(o.e,o.sd())+4,l.rounding=1,r=o.d.length,r<32?(e=Math.ceil(r/3),t=(1/at(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),o=Le(l,1,o.times(t),new l(1),!0);for(var g,c=e,u=new l(8);c--;)g=o.times(o),o=a.minus(g.times(u.minus(g.times(u))));return M(o,l.precision=n,l.rounding=i,!0)};S.hyperbolicSine=S.sinh=function(){var e,t,n,i,r=this,o=r.constructor;if(!r.isFinite()||r.isZero())return new o(r);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(r.e,r.sd())+4,o.rounding=1,i=r.d.length,i<3)r=Le(o,2,r,r,!0);else{e=1.4*Math.sqrt(i),e=e>16?16:e|0,r=r.times(1/at(5,e)),r=Le(o,2,r,r,!0);for(var l,a=new o(5),g=new o(16),c=new o(20);e--;)l=r.times(r),r=r.times(a.plus(l.times(g.times(l).plus(c))))}return o.precision=t,o.rounding=n,M(r,t,n,!0)};S.hyperbolicTangent=S.tanh=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,U(n.sinh(),n.cosh(),i.precision=e,i.rounding=t)):new i(n.s)};S.inverseCosine=S.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),i=t.precision,r=t.rounding;return n!==-1?n===0?e.isNeg()?Se(t,i,r):new t(0):new t(NaN):e.isZero()?Se(t,i+4,r).times(.5):(t.precision=i+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=i,t.rounding=r,e.times(2))};S.inverseHyperbolicCosine=S.acosh=function(){var e,t,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,O=!1,n=n.times(n).minus(1).sqrt().plus(n),O=!0,i.precision=e,i.rounding=t,n.ln()):new i(n)};S.inverseHyperbolicSine=S.asinh=function(){var e,t,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,O=!1,n=n.times(n).plus(1).sqrt().plus(n),O=!0,i.precision=e,i.rounding=t,n.ln())};S.inverseHyperbolicTangent=S.atanh=function(){var e,t,n,i,r=this,o=r.constructor;return r.isFinite()?r.e>=0?new o(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(e=o.precision,t=o.rounding,i=r.sd(),Math.max(i,e)<2*-r.e-1?M(new o(r),e,t,!0):(o.precision=n=i-r.e,r=U(r.plus(1),new o(1).minus(r),n+e,1),o.precision=e+4,o.rounding=1,r=r.ln(),o.precision=e,o.rounding=t,r.times(.5))):new o(NaN)};S.inverseSine=S.asin=function(){var e,t,n,i,r=this,o=r.constructor;return r.isZero()?new o(r):(t=r.abs().cmp(1),n=o.precision,i=o.rounding,t!==-1?t===0?(e=Se(o,n+4,i).times(.5),e.s=r.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,r=r.div(new o(1).minus(r.times(r)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=i,r.times(2)))};S.inverseTangent=S.atan=function(){var e,t,n,i,r,o,l,a,g,c=this,u=c.constructor,p=u.precision,h=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&p+4<=_t)return l=Se(u,p+4,h).times(.25),l.s=c.s,l}else{if(!c.s)return new u(NaN);if(p+4<=_t)return l=Se(u,p+4,h).times(.5),l.s=c.s,l}for(u.precision=a=p+10,u.rounding=1,n=Math.min(28,a/C+2|0),e=n;e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(O=!1,t=Math.ceil(a/C),i=1,g=c.times(c),l=new u(c),r=c;e!==-1;)if(r=r.times(g),o=l.minus(r.div(i+=2)),r=r.times(g),l=o.plus(r.div(i+=2)),l.d[t]!==void 0)for(e=t;l.d[e]===o.d[e]&&e--;);return n&&(l=l.times(2<<n-1)),O=!0,M(l,u.precision=p,u.rounding=h,!0)};S.isFinite=function(){return!!this.d};S.isInteger=S.isInt=function(){return!!this.d&&se(this.e/C)>this.d.length-2};S.isNaN=function(){return!this.s};S.isNegative=S.isNeg=function(){return this.s<0};S.isPositive=S.isPos=function(){return this.s>0};S.isZero=function(){return!!this.d&&this.d[0]===0};S.lessThan=S.lt=function(e){return this.cmp(e)<0};S.lessThanOrEqualTo=S.lte=function(e){return this.cmp(e)<1};S.logarithm=S.log=function(e){var t,n,i,r,o,l,a,g,c=this,u=c.constructor,p=u.precision,h=u.rounding,N=5;if(e==null)e=new u(10),t=!0;else{if(e=new u(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new u(n&&!n[0]?-1/0:c.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(r=n[0];r%10===0;)r/=10;o=r!==1}if(O=!1,a=p+N,l=Be(c,a),i=t?rt(u,a+10):Be(e,a),g=U(l,i,a,1),je(g.d,r=p,h))do if(a+=10,l=Be(c,a),i=t?rt(u,a+10):Be(e,a),g=U(l,i,a,1),!o){+te(g.d).slice(r+1,r+15)+1==1e14&&(g=M(g,p+1,0));break}while(je(g.d,r+=10,h));return O=!0,M(g,p,h)};S.minus=S.sub=function(e){var t,n,i,r,o,l,a,g,c,u,p,h,N=this,A=N.constructor;if(e=new A(e),!N.d||!e.d)return!N.s||!e.s?e=new A(NaN):N.d?e.s=-e.s:e=new A(e.d||N.s!==e.s?N:NaN),e;if(N.s!=e.s)return e.s=-e.s,N.plus(e);if(c=N.d,h=e.d,a=A.precision,g=A.rounding,!c[0]||!h[0]){if(h[0])e.s=-e.s;else if(c[0])e=new A(N);else return new A(g===3?-0:0);return O?M(e,a,g):e}if(n=se(e.e/C),u=se(N.e/C),c=c.slice(),o=u-n,o){for(p=o<0,p?(t=c,o=-o,l=h.length):(t=h,n=u,l=c.length),i=Math.max(Math.ceil(a/C),l)+2,o>i&&(o=i,t.length=1),t.reverse(),i=o;i--;)t.push(0);t.reverse()}else{for(i=c.length,l=h.length,p=i<l,p&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){p=c[i]<h[i];break}o=0}for(p&&(t=c,c=h,h=t,e.s=-e.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(r=i;r&&c[--r]===0;)c[r]=me-1;--c[r],c[i]+=me}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=lt(c,n),O?M(e,a,g):e):new A(g===3?-0:0)};S.modulo=S.mod=function(e){var t,n=this,i=n.constructor;return e=new i(e),!n.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||n.d&&!n.d[0]?M(new i(n),i.precision,i.rounding):(O=!1,i.modulo==9?(t=U(n,e.abs(),0,3,1),t.s*=e.s):t=U(n,e,0,i.modulo,1),t=t.times(e),O=!0,n.minus(t))};S.naturalExponential=S.exp=function(){return At(this)};S.naturalLogarithm=S.ln=function(){return Be(this)};S.negated=S.neg=function(){var e=new this.constructor(this);return e.s=-e.s,M(e)};S.plus=S.add=function(e){var t,n,i,r,o,l,a,g,c,u,p=this,h=p.constructor;if(e=new h(e),!p.d||!e.d)return!p.s||!e.s?e=new h(NaN):p.d||(e=new h(e.d||p.s===e.s?p:NaN)),e;if(p.s!=e.s)return e.s=-e.s,p.minus(e);if(c=p.d,u=e.d,a=h.precision,g=h.rounding,!c[0]||!u[0])return u[0]||(e=new h(p)),O?M(e,a,g):e;if(o=se(p.e/C),i=se(e.e/C),c=c.slice(),r=o-i,r){for(r<0?(n=c,r=-r,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(a/C),l=o>l?o+1:l+1,r>l&&(r=l,n.length=1),n.reverse();r--;)n.push(0);n.reverse()}for(l=c.length,r=u.length,l-r<0&&(r=l,n=u,u=c,c=n),t=0;r;)t=(c[--r]=c[r]+u[r]+t)/me|0,c[r]%=me;for(t&&(c.unshift(t),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=lt(c,i),O?M(e,a,g):e};S.precision=S.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Pe+e);return n.d?(t=sn(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};S.round=function(){var e=this,t=e.constructor;return M(new t(e),e.e+1,t.rounding)};S.sine=S.sin=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+C,i.rounding=1,n=Hn(i,fn(i,n)),i.precision=e,i.rounding=t,M(_e>2?n.neg():n,e,t,!0)):new i(NaN)};S.squareRoot=S.sqrt=function(){var e,t,n,i,r,o,l=this,a=l.d,g=l.e,c=l.s,u=l.constructor;if(c!==1||!a||!a[0])return new u(!c||c<0&&(!a||a[0])?NaN:a?l:1/0);for(O=!1,c=Math.sqrt(+l),c==0||c==1/0?(t=te(a),(t.length+g)%2==0&&(t+="0"),c=Math.sqrt(t),g=se((g+1)/2)-(g<0||g%2),c==1/0?t="5e"+g:(t=c.toExponential(),t=t.slice(0,t.indexOf("e")+1)+g),i=new u(t)):i=new u(c.toString()),n=(g=u.precision)+3;;)if(o=i,i=o.plus(U(l,o,n+2,1)).times(.5),te(o.d).slice(0,n)===(t=te(i.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!r&&t=="4999"){if(!r&&(M(o,g+1,0),o.times(o).eq(l))){i=o;break}n+=4,r=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(M(i,g+1,1),e=!i.times(i).eq(l));break}return O=!0,M(i,g,u.rounding,e)};S.tangent=S.tan=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,n=n.sin(),n.s=1,n=U(n,new i(1).minus(n.times(n)).sqrt(),e+10,0),i.precision=e,i.rounding=t,M(_e==2||_e==4?n.neg():n,e,t,!0)):new i(NaN)};S.times=S.mul=function(e){var t,n,i,r,o,l,a,g,c,u=this,p=u.constructor,h=u.d,N=(e=new p(e)).d;if(e.s*=u.s,!h||!h[0]||!N||!N[0])return new p(!e.s||h&&!h[0]&&!N||N&&!N[0]&&!h?NaN:!h||!N?e.s/0:e.s*0);for(n=se(u.e/C)+se(e.e/C),g=h.length,c=N.length,g<c&&(o=h,h=N,N=o,l=g,g=c,c=l),o=[],l=g+c,i=l;i--;)o.push(0);for(i=c;--i>=0;){for(t=0,r=g+i;r>i;)a=o[r]+N[i]*h[r-i-1]+t,o[r--]=a%me|0,t=a/me|0;o[r]=(o[r]+t)%me|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=lt(o,n),O?M(e,p.precision,p.rounding):e};S.toBinary=function(e,t){return $t(this,2,e,t)};S.toDecimalPlaces=S.toDP=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(ae(e,0,qe),t===void 0?t=i.rounding:ae(t,0,8),M(n,e+n.e+1,t))};S.toExponential=function(e,t){var n,i=this,r=i.constructor;return e===void 0?n=Ne(i,!0):(ae(e,0,qe),t===void 0?t=r.rounding:ae(t,0,8),i=M(new r(i),e+1,t),n=Ne(i,!0,e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};S.toFixed=function(e,t){var n,i,r=this,o=r.constructor;return e===void 0?n=Ne(r):(ae(e,0,qe),t===void 0?t=o.rounding:ae(t,0,8),i=M(new o(r),e+r.e+1,t),n=Ne(i,!1,e+i.e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};S.toFraction=function(e){var t,n,i,r,o,l,a,g,c,u,p,h,N=this,A=N.d,I=N.constructor;if(!A)return new I(N);if(c=n=new I(1),i=g=new I(0),t=new I(i),o=t.e=sn(A)-N.e-1,l=o%C,t.d[0]=Y(10,l<0?C+l:l),e==null)e=o>0?t:c;else{if(a=new I(e),!a.isInt()||a.lt(c))throw Error(Pe+a);e=a.gt(t)?o>0?t:c:a}for(O=!1,a=new I(te(A)),u=I.precision,I.precision=o=A.length*C*2;p=U(a,t,0,1,1),r=n.plus(p.times(i)),r.cmp(e)!=1;)n=i,i=r,r=c,c=g.plus(p.times(r)),g=r,r=t,t=a.minus(p.times(r)),a=r;return r=U(e.minus(n),i,0,1,1),g=g.plus(r.times(c)),n=n.plus(r.times(i)),g.s=c.s=N.s,h=U(c,i,o,1).minus(N).abs().cmp(U(g,n,o,1).minus(N).abs())<1?[c,i]:[g,n],I.precision=u,O=!0,h};S.toHexadecimal=S.toHex=function(e,t){return $t(this,16,e,t)};S.toNearest=function(e,t){var n=this,i=n.constructor;if(n=new i(n),e==null){if(!n.d)return n;e=new i(1),t=i.rounding}else{if(e=new i(e),t===void 0?t=i.rounding:ae(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(O=!1,n=U(n,e,0,t,1).times(e),O=!0,M(n)):(e.s=n.s,n=e),n};S.toNumber=function(){return+this};S.toOctal=function(e,t){return $t(this,8,e,t)};S.toPower=S.pow=function(e){var t,n,i,r,o,l,a=this,g=a.constructor,c=+(e=new g(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new g(Y(+a,c));if(a=new g(a),a.eq(1))return a;if(i=g.precision,o=g.rounding,e.eq(1))return M(a,i,o);if(t=se(e.e/C),t>=e.d.length-1&&(n=c<0?-c:c)<=Vn)return r=un(g,a,n,i),e.s<0?new g(1).div(r):M(r,i,o);if(l=a.s,l<0){if(t<e.d.length-1)return new g(NaN);if((e.d[t]&1)==0&&(l=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=l,a}return n=Y(+a,c),t=n==0||!isFinite(n)?se(c*(Math.log("0."+te(a.d))/Math.LN10+a.e+1)):new g(n+"").e,t>g.maxE+1||t<g.minE-1?new g(t>0?l/0:0):(O=!1,g.rounding=a.s=1,n=Math.min(12,(t+"").length),r=At(e.times(Be(a,i+n)),i),r.d&&(r=M(r,i+5,1),je(r.d,i,o)&&(t=i+10,r=M(At(e.times(Be(a,t+n)),t),t+5,1),+te(r.d).slice(i+1,i+15)+1==1e14&&(r=M(r,i+1,0)))),r.s=l,O=!0,g.rounding=o,M(r,i,o))};S.toPrecision=function(e,t){var n,i=this,r=i.constructor;return e===void 0?n=Ne(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(ae(e,1,qe),t===void 0?t=r.rounding:ae(t,0,8),i=M(new r(i),e,t),n=Ne(i,e<=i.e||i.e<=r.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+n:n};S.toSignificantDigits=S.toSD=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(ae(e,1,qe),t===void 0?t=i.rounding:ae(t,0,8)),M(new i(n),e,t)};S.toString=function(){var e=this,t=e.constructor,n=Ne(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};S.truncated=S.trunc=function(){return M(new this.constructor(this),this.e+1,1)};S.valueOf=S.toJSON=function(){var e=this,t=e.constructor,n=Ne(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function te(e){var t,n,i,r=e.length-1,o="",l=e[0];if(r>0){for(o+=l,t=1;t<r;t++)i=e[t]+"",n=C-i.length,n&&(o+=Ce(n)),o+=i;l=e[t],i=l+"",n=C-i.length,n&&(o+=Ce(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}function ae(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Pe+e)}function je(e,t,n,i){var r,o,l,a;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=C,r=0):(r=Math.ceil((t+1)/C),t%=C),o=Y(10,C-t),a=e[r]%o|0,i==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),l=n<4&&a==99999||n>3&&a==49999||a==5e4||a==0):l=(n<4&&a+1==o||n>3&&a+1==o/2)&&(e[r+1]/o/100|0)==Y(10,t-2)-1||(a==o/2||a==0)&&(e[r+1]/o/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),l=(i||n<4)&&a==9999||!i&&n>3&&a==4999):l=((i||n<4)&&a+1==o||!i&&n>3&&a+1==o/2)&&(e[r+1]/o/1e3|0)==Y(10,t-3)-1,l}function ze(e,t,n){for(var i,r=[0],o,l=0,a=e.length;l<a;){for(o=r.length;o--;)r[o]*=t;for(r[0]+=Et.indexOf(e.charAt(l++)),i=0;i<r.length;i++)r[i]>n-1&&(r[i+1]===void 0&&(r[i+1]=0),r[i+1]+=r[i]/n|0,r[i]%=n)}return r.reverse()}function Zn(e,t){var n,i,r;if(t.isZero())return t;i=t.d.length,i<32?(n=Math.ceil(i/3),r=(1/at(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10"),e.precision+=n,t=Le(e,1,t.times(r),new e(1));for(var o=n;o--;){var l=t.times(t);t=l.times(l).minus(l).times(8).plus(1)}return e.precision-=n,t}var U=function(){function e(i,r,o){var l,a=0,g=i.length;for(i=i.slice();g--;)l=i[g]*r+a,i[g]=l%o|0,a=l/o|0;return a&&i.unshift(a),i}function t(i,r,o,l){var a,g;if(o!=l)g=o>l?1:-1;else for(a=g=0;a<o;a++)if(i[a]!=r[a]){g=i[a]>r[a]?1:-1;break}return g}function n(i,r,o,l){for(var a=0;o--;)i[o]-=a,a=i[o]<r[o]?1:0,i[o]=a*l+i[o]-r[o];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,o,l,a,g){var c,u,p,h,N,A,I,T,x,V,B,Z,ne,W,j,K,he,ge,ie,de,Ee=i.constructor,we=i.s==r.s?1:-1,J=i.d,L=r.d;if(!J||!J[0]||!L||!L[0])return new Ee(!i.s||!r.s||(J?L&&J[0]==L[0]:!L)?NaN:J&&J[0]==0||!L?we*0:we/0);for(g?(N=1,u=i.e-r.e):(g=me,N=C,u=se(i.e/N)-se(r.e/N)),ie=L.length,he=J.length,x=new Ee(we),V=x.d=[],p=0;L[p]==(J[p]||0);p++);if(L[p]>(J[p]||0)&&u--,o==null?(W=o=Ee.precision,l=Ee.rounding):a?W=o+(i.e-r.e)+1:W=o,W<0)V.push(1),A=!0;else{if(W=W/N+2|0,p=0,ie==1){for(h=0,L=L[0],W++;(p<he||h)&&W--;p++)j=h*g+(J[p]||0),V[p]=j/L|0,h=j%L|0;A=h||p<he}else{for(h=g/(L[0]+1)|0,h>1&&(L=e(L,h,g),J=e(J,h,g),ie=L.length,he=J.length),K=ie,B=J.slice(0,ie),Z=B.length;Z<ie;)B[Z++]=0;de=L.slice(),de.unshift(0),ge=L[0],L[1]>=g/2&&++ge;do h=0,c=t(L,B,ie,Z),c<0?(ne=B[0],ie!=Z&&(ne=ne*g+(B[1]||0)),h=ne/ge|0,h>1?(h>=g&&(h=g-1),I=e(L,h,g),T=I.length,Z=B.length,c=t(I,B,T,Z),c==1&&(h--,n(I,ie<T?de:L,T,g))):(h==0&&(c=h=1),I=L.slice()),T=I.length,T<Z&&I.unshift(0),n(B,I,Z,g),c==-1&&(Z=B.length,c=t(L,B,ie,Z),c<1&&(h++,n(B,ie<Z?de:L,Z,g))),Z=B.length):c===0&&(h++,B=[0]),V[p++]=h,c&&B[0]?B[Z++]=J[K]||0:(B=[J[K]],Z=1);while((K++<he||B[0]!==void 0)&&W--);A=B[0]!==void 0}V[0]||V.shift()}if(N==1)x.e=u,en=A;else{for(p=1,h=V[0];h>=10;h/=10)p++;x.e=p+u*N-1,M(x,a?o+x.e+1:o,l,A)}return x}}();function M(e,t,n,i){var r,o,l,a,g,c,u,p,h,N=e.constructor;e:if(t!=null){if(p=e.d,!p)return e;for(r=1,a=p[0];a>=10;a/=10)r++;if(o=t-r,o<0)o+=C,l=t,u=p[h=0],g=u/Y(10,r-l-1)%10|0;else if(h=Math.ceil((o+1)/C),a=p.length,h>=a)if(i){for(;a++<=h;)p.push(0);u=g=0,r=1,o%=C,l=o-C+1}else break e;else{for(u=a=p[h],r=1;a>=10;a/=10)r++;o%=C,l=o-C+r,g=l<0?0:u/Y(10,r-l-1)%10|0}if(i=i||t<0||p[h+1]!==void 0||(l<0?u:u%Y(10,r-l-1)),c=n<4?(g||i)&&(n==0||n==(e.s<0?3:2)):g>5||g==5&&(n==4||i||n==6&&(o>0?l>0?u/Y(10,r-l):0:p[h-1])%10&1||n==(e.s<0?8:7)),t<1||!p[0])return p.length=0,c?(t-=e.e+1,p[0]=Y(10,(C-t%C)%C),e.e=-t||0):p[0]=e.e=0,e;if(o==0?(p.length=h,a=1,h--):(p.length=h+1,a=Y(10,C-o),p[h]=l>0?(u/Y(10,r-l)%Y(10,l)|0)*a:0),c)for(;;)if(h==0){for(o=1,l=p[0];l>=10;l/=10)o++;for(l=p[0]+=a,a=1;l>=10;l/=10)a++;o!=a&&(e.e++,p[0]==me&&(p[0]=1));break}else{if(p[h]+=a,p[h]!=me)break;p[h--]=0,a=1}for(o=p.length;p[--o]===0;)p.pop()}return O&&(e.e>N.maxE?(e.d=null,e.e=NaN):e.e<N.minE&&(e.e=0,e.d=[0])),e}function Ne(e,t,n){if(!e.isFinite())return an(e);var i,r=e.e,o=te(e.d),l=o.length;return t?(n&&(i=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Ce(i):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):r<0?(o="0."+Ce(-r-1)+o,n&&(i=n-l)>0&&(o+=Ce(i))):r>=l?(o+=Ce(r+1-l),n&&(i=n-r-1)>0&&(o=o+"."+Ce(i))):((i=r+1)<l&&(o=o.slice(0,i)+"."+o.slice(i)),n&&(i=n-l)>0&&(r+1===l&&(o+="."),o+=Ce(i))),o}function lt(e,t){var n=e[0];for(t*=C;n>=10;n/=10)t++;return t}function rt(e,t,n){if(t>Un)throw O=!0,n&&(e.precision=n),Error(tn);return M(new e(nt),t,1,!0)}function Se(e,t,n){if(t>_t)throw Error(tn);return M(new e(it),t,n,!0)}function sn(e){var t=e.length-1,n=t*C+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Ce(e){for(var t="";e--;)t+="0";return t}function un(e,t,n,i){var r,o=new e(1),l=Math.ceil(i/C+4);for(O=!1;;){if(n%2&&(o=o.times(t),Ft(o.d,l)&&(r=!0)),n=se(n/2),n===0){n=o.d.length-1,r&&o.d[n]===0&&++o.d[n];break}t=t.times(t),Ft(t.d,l)}return O=!0,o}function Lt(e){return e.d[e.d.length-1]&1}function ln(e,t,n){for(var i,r,o=new e(t[0]),l=0;++l<t.length;){if(r=new e(t[l]),!r.s){o=r;break}i=o.cmp(r),(i===n||i===0&&o.s===n)&&(o=r)}return o}function At(e,t){var n,i,r,o,l,a,g,c=0,u=0,p=0,h=e.constructor,N=h.rounding,A=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(O=!1,g=A):g=t,a=new h(.03125);e.e>-2;)e=e.times(a),p+=5;for(i=Math.log(Y(2,p))/Math.LN10*2+5|0,g+=i,n=o=l=new h(1),h.precision=g;;){if(o=M(o.times(e),g,1),n=n.times(++u),a=l.plus(U(o,n,g,1)),te(a.d).slice(0,g)===te(l.d).slice(0,g)){for(r=p;r--;)l=M(l.times(l),g,1);if(t==null)if(c<3&&je(l.d,g-i,N,c))h.precision=g+=10,n=o=a=new h(1),u=0,c++;else return M(l,h.precision=A,N,O=!0);else return h.precision=A,l}l=a}}function Be(e,t){var n,i,r,o,l,a,g,c,u,p,h,N=1,A=10,I=e,T=I.d,x=I.constructor,V=x.rounding,B=x.precision;if(I.s<0||!T||!T[0]||!I.e&&T[0]==1&&T.length==1)return new x(T&&!T[0]?-1/0:I.s!=1?NaN:T?0:I);if(t==null?(O=!1,u=B):u=t,x.precision=u+=A,n=te(T),i=n.charAt(0),Math.abs(o=I.e)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)I=I.times(e),n=te(I.d),i=n.charAt(0),N++;o=I.e,i>1?(I=new x("0."+n),o++):I=new x(i+"."+n.slice(1))}else return c=rt(x,u+2,B).times(o+""),I=Be(new x(i+"."+n.slice(1)),u-A).plus(c),x.precision=B,t==null?M(I,B,V,O=!0):I;for(p=I,g=l=I=U(I.minus(1),I.plus(1),u,1),h=M(I.times(I),u,1),r=3;;){if(l=M(l.times(h),u,1),c=g.plus(U(l,new x(r),u,1)),te(c.d).slice(0,u)===te(g.d).slice(0,u))if(g=g.times(2),o!==0&&(g=g.plus(rt(x,u+2,B).times(o+""))),g=U(g,new x(N),u,1),t==null)if(je(g.d,u-A,V,a))x.precision=u+=A,c=l=I=U(p.minus(1),p.plus(1),u,1),h=M(I.times(I),u,1),r=a=1;else return M(g,x.precision=B,V,O=!0);else return x.precision=B,g;g=c,r+=2}}function an(e){return String(e.s*e.s/0)}function We(e,t){var n,i,r;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;i++);for(r=t.length;t.charCodeAt(r-1)===48;--r);if(t=t.slice(i,r),t){if(r-=i,e.e=n=n-i-1,e.d=[],i=(n+1)%C,n<0&&(i+=C),i<r){for(i&&e.d.push(+t.slice(0,i)),r-=C;i<r;)e.d.push(+t.slice(i,i+=C));t=t.slice(i),i=C-t.length}else i-=r;for(;i--;)t+="0";e.d.push(+t),O&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function jn(e,t){var n,i,r,o,l,a,g,c,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),on.test(t))return We(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Fn.test(t))n=16,t=t.toLowerCase();else if(Ln.test(t))n=2;else if(kn.test(t))n=8;else throw Error(Pe+t);for(o=t.search(/p/i),o>0?(g=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),o=t.indexOf("."),l=o>=0,i=e.constructor,l&&(t=t.replace(".",""),a=t.length,o=a-o,r=un(i,new i(n),o,o*2)),c=ze(t,n,me),u=c.length-1,o=u;c[o]===0;--o)c.pop();return o<0?new i(e.s*0):(e.e=lt(c,u),e.d=c,O=!1,l&&(e=U(e,r,a*4)),g&&(e=e.times(Math.abs(g)<54?Y(2,g):ve.pow(2,g))),O=!0,e)}function Hn(e,t){var n,i=t.d.length;if(i<3)return t.isZero()?t:Le(e,2,t,t);n=1.4*Math.sqrt(i),n=n>16?16:n|0,t=t.times(1/at(5,n)),t=Le(e,2,t,t);for(var r,o=new e(5),l=new e(16),a=new e(20);n--;)r=t.times(t),t=t.times(o.plus(r.times(l.times(r).minus(a))));return t}function Le(e,t,n,i,r){var o,l,a,g,c=e.precision,u=Math.ceil(c/C);for(O=!1,g=n.times(n),a=new e(i);;){if(l=U(a.times(g),new e(t++*t++),c,1),a=r?i.plus(l):i.minus(l),i=U(l.times(g),new e(t++*t++),c,1),l=a.plus(i),l.d[u]!==void 0){for(o=u;l.d[o]===a.d[o]&&o--;);if(o==-1)break}o=a,a=i,i=l,l=o}return O=!0,l.d.length=u+1,l}function at(e,t){for(var n=e;--t;)n*=e;return n}function fn(e,t){var n,i=t.s<0,r=Se(e,e.precision,1),o=r.times(.5);if(t=t.abs(),t.lte(o))return _e=i?4:1,t;if(n=t.divToInt(r),n.isZero())_e=i?3:2;else{if(t=t.minus(n.times(r)),t.lte(o))return _e=Lt(n)?i?2:3:i?4:1,t;_e=Lt(n)?i?1:4:i?3:2}return t.minus(r).abs()}function $t(e,t,n,i){var r,o,l,a,g,c,u,p,h,N=e.constructor,A=n!==void 0;if(A?(ae(n,1,qe),i===void 0?i=N.rounding:ae(i,0,8)):(n=N.precision,i=N.rounding),!e.isFinite())u=an(e);else{for(u=Ne(e),l=u.indexOf("."),A?(r=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):r=t,l>=0&&(u=u.replace(".",""),h=new N(1),h.e=u.length-l,h.d=ze(Ne(h),10,r),h.e=h.d.length),p=ze(u,10,r),o=g=p.length;p[--g]==0;)p.pop();if(!p[0])u=A?"0p+0":"0";else{if(l<0?o--:(e=new N(e),e.d=p,e.e=o,e=U(e,h,n,i,0,r),p=e.d,o=e.e,c=en),l=p[n],a=r/2,c=c||p[n+1]!==void 0,c=i<4?(l!==void 0||c)&&(i===0||i===(e.s<0?3:2)):l>a||l===a&&(i===4||c||i===6&&p[n-1]&1||i===(e.s<0?8:7)),p.length=n,c)for(;++p[--n]>r-1;)p[n]=0,n||(++o,p.unshift(1));for(g=p.length;!p[g-1];--g);for(l=0,u="";l<g;l++)u+=Et.charAt(p[l]);if(A){if(g>1)if(t==16||t==8){for(l=t==16?4:3,--g;g%l;g++)u+="0";for(p=ze(u,r,t),g=p.length;!p[g-1];--g);for(l=1,u="1.";l<g;l++)u+=Et.charAt(p[l])}else u=u.charAt(0)+"."+u.slice(1);u=u+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)u="0"+u;u="0."+u}else if(++o>g)for(o-=g;o--;)u+="0";else o<g&&(u=u.slice(0,o)+"."+u.slice(o))}u=(t==16?"0x":t==2?"0b":t==8?"0o":"")+u}return e.s<0?"-"+u:u}function Ft(e,t){if(e.length>t)return e.length=t,!0}function Jn(e){return new this(e).abs()}function Xn(e){return new this(e).acos()}function Gn(e){return new this(e).acosh()}function zn(e,t){return new this(e).plus(t)}function Wn(e){return new this(e).asin()}function Kn(e){return new this(e).asinh()}function Yn(e){return new this(e).atan()}function Qn(e){return new this(e).atanh()}function ei(e,t){e=new this(e),t=new this(t);var n,i=this.precision,r=this.rounding,o=i+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=Se(this,o,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?Se(this,i,r):new this(0),n.s=e.s):!e.d||t.isZero()?(n=Se(this,o,1).times(.5),n.s=e.s):t.s<0?(this.precision=o,this.rounding=1,n=this.atan(U(e,t,o,1)),t=Se(this,o,1),this.precision=i,this.rounding=r,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(U(e,t,o,1)),n}function ti(e){return new this(e).cbrt()}function ni(e){return M(e=new this(e),e.e+1,2)}function ii(e,t,n){return new this(e).clamp(t,n)}function ri(e){if(!e||typeof e!="object")throw Error(ut+"Object expected");var t,n,i,r=e.defaults===!0,o=["precision",1,qe,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,Nt,"maxE",0,Nt,"minE",-9e15,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],r&&(this[n]=It[n]),(i=e[n])!==void 0)if(se(i)===i&&i>=o[t+1]&&i<=o[t+2])this[n]=i;else throw Error(Pe+n+": "+i);if(n="crypto",r&&(this[n]=It[n]),(i=e[n])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(nn);else this[n]=!1;else throw Error(Pe+n+": "+i);return this}function oi(e){return new this(e).cos()}function si(e){return new this(e).cosh()}function cn(e){var t,n,i;function r(o){var l,a,g,c=this;if(!(c instanceof r))return new r(o);if(c.constructor=r,kt(o)){c.s=o.s,O?!o.d||o.e>r.maxE?(c.e=NaN,c.d=null):o.e<r.minE?(c.e=0,c.d=[0]):(c.e=o.e,c.d=o.d.slice()):(c.e=o.e,c.d=o.d?o.d.slice():o.d);return}if(g=typeof o,g==="number"){if(o===0){c.s=1/o<0?-1:1,c.e=0,c.d=[0];return}if(o<0?(o=-o,c.s=-1):c.s=1,o===~~o&&o<1e7){for(l=0,a=o;a>=10;a/=10)l++;O?l>r.maxE?(c.e=NaN,c.d=null):l<r.minE?(c.e=0,c.d=[0]):(c.e=l,c.d=[o]):(c.e=l,c.d=[o]);return}if(o*0!==0){o||(c.s=NaN),c.e=NaN,c.d=null;return}return We(c,o.toString())}if(g==="string")return(a=o.charCodeAt(0))===45?(o=o.slice(1),c.s=-1):(a===43&&(o=o.slice(1)),c.s=1),on.test(o)?We(c,o):jn(c,o);if(g==="bigint")return o<0?(o=-o,c.s=-1):c.s=1,We(c,o.toString());throw Error(Pe+o)}if(r.prototype=S,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=ri,r.clone=cn,r.isDecimal=kt,r.abs=Jn,r.acos=Xn,r.acosh=Gn,r.add=zn,r.asin=Wn,r.asinh=Kn,r.atan=Yn,r.atanh=Qn,r.atan2=ei,r.cbrt=ti,r.ceil=ni,r.clamp=ii,r.cos=oi,r.cosh=si,r.div=ui,r.exp=li,r.floor=ai,r.hypot=fi,r.ln=ci,r.log=pi,r.log10=gi,r.log2=hi,r.max=di,r.min=vi,r.mod=mi,r.mul=wi,r.pow=yi,r.random=bi,r.round=Si,r.sign=Ni,r.sin=Ei,r.sinh=Ii,r.sqrt=_i,r.sub=Ai,r.sum=Mi,r.tan=$i,r.tanh=Ci,r.trunc=Bi,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return r.config(e),r}function ui(e,t){return new this(e).div(t)}function li(e){return new this(e).exp()}function ai(e){return M(e=new this(e),e.e+1,3)}function fi(){var e,t,n=new this(0);for(O=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return O=!0,new this(1/0);n=t}return O=!0,n.sqrt()}function kt(e){return e instanceof ve||e&&e.toStringTag===rn||!1}function ci(e){return new this(e).ln()}function pi(e,t){return new this(e).log(t)}function hi(e){return new this(e).log(2)}function gi(e){return new this(e).log(10)}function di(){return ln(this,arguments,-1)}function vi(){return ln(this,arguments,1)}function mi(e,t){return new this(e).mod(t)}function wi(e,t){return new this(e).mul(t)}function yi(e,t){return new this(e).pow(t)}function bi(e){var t,n,i,r,o=0,l=new this(1),a=[];if(e===void 0?e=this.precision:ae(e,1,qe),i=Math.ceil(e/C),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));o<i;)r=t[o],r>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=r%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);o<i;)r=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((t[o+3]&127)<<24),r>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(r%1e7),o+=4);o=i/4}else throw Error(nn);else for(;o<i;)a[o++]=Math.random()*1e7|0;for(i=a[--o],e%=C,i&&e&&(r=Y(10,C-e),a[o]=(i/r|0)*r);a[o]===0;o--)a.pop();if(o<0)n=0,a=[0];else{for(n=-1;a[0]===0;n-=C)a.shift();for(i=1,r=a[0];r>=10;r/=10)i++;i<C&&(n-=C-i)}return l.e=n,l.d=a,l}function Si(e){return M(e=new this(e),e.e+1,this.rounding)}function Ni(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Ei(e){return new this(e).sin()}function Ii(e){return new this(e).sinh()}function _i(e){return new this(e).sqrt()}function Ai(e,t){return new this(e).sub(t)}function Mi(){var e=0,t=arguments,n=new this(t[e]);for(O=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return O=!0,M(n,this.precision,this.rounding)}function $i(e){return new this(e).tan()}function Ci(e){return new this(e).tanh()}function Bi(e){return M(e=new this(e),e.e+1,1)}S[Symbol.for("nodejs.util.inspect.custom")]=S.toString;S[Symbol.toStringTag]="Decimal";var ve=S.constructor=cn(It);nt=new ve(nt);it=new ve(it);const ee=11,ce=52,Ue=(1<<ee-1)-1;function Pi(e){let t=typeof e=="string"?parseFloat(e):e;if(typeof e=="string"&&e.trim()==="")return{sign:"",exponent:"",significand:"",originalInput:""};if(isNaN(t))return{sign:"0",exponent:"1".repeat(ee),significand:"1"+"0".repeat(ce-1),originalInput:"NaN",isSpecial:!0};if(t===0)return{sign:Object.is(t,-0)?"1":"0",exponent:"0".repeat(ee),significand:"0".repeat(ce),originalInput:Object.is(t,-0)?"-0":"0"};if(t===1/0)return{sign:"0",exponent:"1".repeat(ee),significand:"0".repeat(ce),originalInput:"Infinity",isSpecial:!0};if(t===-1/0)return{sign:"1",exponent:"1".repeat(ee),significand:"0".repeat(ce),originalInput:"-Infinity",isSpecial:!0};const n=new ArrayBuffer(8),i=new DataView(n);i.setFloat64(0,t,!1);let r="";for(let o=0;o<8;o++)r+=i.getUint8(o).toString(2).padStart(8,"0");return{sign:r[0],exponent:r.substring(1,1+ee),significand:r.substring(1+ee),originalInput:t.toString()}}function Vt(e,t,n){if(e.length!==1||t.length!==ee||n.length!==ce||!/^[01]+$/.test(e+t+n))return"無効なビット入力";const i=parseInt(e,2),r=parseInt(t,2),o=t==="1".repeat(ee),l=n==="0".repeat(ce);if(o){if(l){const u=i===1?"-Infinity":"Infinity";return{value:u,isDenormalized:!1,isSpecial:!0,originalString:u}}return{value:"NaN",isDenormalized:!1,isSpecial:!0,originalString:"NaN"}}if(r===0&&l){const u=i===1?"-0":"0";return{value:u,isDenormalized:!1,isSpecial:!1,originalString:u}}ve.set({precision:100});let a=new ve(0);for(let u=0;u<n.length;u++)n[u]==="1"&&(a=a.plus(new ve(1).div(new ve(2).pow(u+1))));let g;const c=r===0&&!l;if(c){const u=1-Ue;g=a.times(new ve(2).pow(u))}else{const u=r-Ue;g=new ve(1).plus(a).times(new ve(2).pow(u))}return i===1&&(g.isZero()&&r===0&&l||(g=g.negated())),{value:g.toString(),isDenormalized:c,isSpecial:!1}}function Oi(e,t){(e<0||e>=1)&&(e=Math.max(0,Math.min(e,Math.nextDown(1))));let n=Math.round(e*Math.pow(2,t));const i=Math.pow(2,t)-1;return n>i&&(n=i),n.toString(2).padStart(t,"0")}function Ut(e){return!/^[01]+$/.test(e)||e.length===0?0:parseInt(e,2)/Math.pow(2,e.length)}var qi=Me('<div class=bit-representation-section><h2>ビット表現 (IEEE 754 64ビット)</h2><div class=bit-display><div class="bit-group sign-bit"><label>符号 (1ビット):</label><span></span></div><div class="bit-group exponent-bits"><label>指数 (<!>ビット):</label><div class=bits-scroll-container></div></div><div class="bit-group significand-bits"><label>仮数 (<!>ビット):</label><div class=bits-scroll-container>'),Zt=Me("<span>");const xi=e=>(()=>{var t=qi(),n=t.firstChild,i=n.nextSibling,r=i.firstChild,o=r.firstChild,l=o.nextSibling,a=r.nextSibling,g=a.firstChild,c=g.firstChild,u=c.nextSibling;u.nextSibling;var p=g.nextSibling,h=a.nextSibling,N=h.firstChild,A=N.firstChild,I=A.nextSibling;I.nextSibling;var T=N.nextSibling;return l.$$click=()=>e.onSignBitClick(),H(l,()=>e.sign()),H(g,ee,u),H(p,()=>e.exponent().split("").map((x,V)=>(()=>{var B=Zt();return B.$$click=()=>e.onExponentBitClick(V),mt(B,`clickable-bit exponent-bit-span ${x==="0"?"bit-zero":"bit-one"}`),H(B,x),B})())),H(N,ce,I),H(T,()=>e.significand().split("").map((x,V)=>(()=>{var B=Zt();return B.$$click=()=>e.onSignificandBitClick(V),mt(B,`clickable-bit significand-bit-span ${x==="0"?"bit-zero":"bit-one"}`),H(B,x),B})())),Te(()=>mt(l,`clickable-bit sign-bit-span ${e.sign()==="0"?"bit-zero":"bit-one"}`)),t})();Je(["click"]);var Di=Me("<div class=output-section><p>入力された数値 (そのまま): <span id=outputOriginalInput></span></p><p>入力の正確な分数表現: <span id=outputExactRational></span></p><p>IEEE 754 近似値 (ビット表現から): <span id=outputFromBits></span></p><p>IEEE 754 近似値の分数表現: <span id=outputApproxRational></span></p><p>差 (入力の正確な分数 - IEEE 754 近似の分数): <span id=outputDifference></span></p><p>比率 (差 / IEEE 754 近似の分数): <span id=outputRatio>"),Ti=Me("<p style=color:red;>入力エラー: ");const Ri=e=>{const t=r=>r?r.toString():"N/A",n=()=>{const r=e.exactRationalValue(),o=e.floatApproximationAsRational();return r&&o?r.subtract(o).reduce():null},i=()=>{const r=n(),o=e.floatApproximationAsRational();return r&&o?o.getNumerator()===0n?"N/A (division by zero)":r.div(o).reduce():null};return(()=>{var r=Di(),o=r.firstChild,l=o.firstChild,a=l.nextSibling,g=o.nextSibling,c=g.firstChild,u=c.nextSibling,p=g.nextSibling,h=p.firstChild,N=h.nextSibling,A=p.nextSibling,I=A.firstChild,T=I.nextSibling,x=A.nextSibling,V=x.firstChild,B=V.nextSibling,Z=x.nextSibling,ne=Z.firstChild,W=ne.nextSibling;return H(a,()=>e.originalInput()),H(r,()=>{const j=e.rationalConversionError();return j?(()=>{var K=Ti();return K.firstChild,H(K,j,null),K})():null},g),H(u,()=>t(e.exactRationalValue())),H(N,()=>{const j=e.decimalFromBits();if(j==null)return"N/A";if(typeof j=="string")return j;let K=j.originalString!==void 0?j.originalString:String(j.value);return j.isDenormalized&&(K+=" [非正規化数]"),K}),H(T,()=>t(e.floatApproximationAsRational())),H(B,()=>t(n())),H(W,()=>{const j=i();return typeof j=="string"?j:t(j)}),r})()};var Li=Me("<div class=slider-section><label for=exponentSlider>指数 (内部値: <!>):</label><input type=range id=exponentSlider min=0><div>実効指数: ");const Fi=e=>{const t=(1<<ee)-1,n=bt(()=>{const i=e.value();return i===0?`${1-Ue} (非正規化数/ゼロ)`:i===t?"特殊値 (無限大/NaN)":`${i} - ${Ue} = ${i-Ue}`});return(()=>{var i=Li(),r=i.firstChild,o=r.firstChild,l=o.nextSibling;l.nextSibling;var a=r.nextSibling,g=a.nextSibling;return g.firstChild,H(r,()=>e.value(),l),a.$$input=c=>e.onInput(parseInt(c.currentTarget.value)),qn(a,"max",t),H(g,n,null),Te(()=>a.value=e.value()),i})()};Je(["input"]);var ki=Me("<div class=slider-section><label for=mantissaSlider>仮数 (小数部: <!>):</label><input type=range id=mantissaSlider min=0 max=65535>");const jt=65535,Vi=e=>{const t=()=>Math.round(e.value()*jt),n=i=>{e.onInput(i/jt)};return(()=>{var i=ki(),r=i.firstChild,o=r.firstChild,l=o.nextSibling;l.nextSibling;var a=r.nextSibling;return H(r,()=>e.value().toFixed(5),l),a.$$input=g=>n(parseInt(g.currentTarget.value)),Te(()=>a.value=t()),i})()};Je(["input"]);var Ui=Me("<div class=visual-adjuster-section><label for=visualAdjusterCanvas>2Dビジュアル調整 (Y軸: 指数, X軸: 仮数小数部):</label><canvas id=visualAdjusterCanvas width=450 height=200>");const be=450,ue=200,Zi=5,Ht=20,ji=e=>{let t,n=!1;const i=(1<<ee)-1,r=()=>t?t.getContext("2d"):null,o=()=>{const u=r();if(!u)return;u.clearRect(0,0,be,ue);const p=ue/(i+1),h=ue/(i+1);u.fillStyle="rgba(255, 255, 224, 0.7)",u.fillRect(0,ue-p,be,p),u.fillStyle="rgba(255, 224, 224, 0.7)",u.fillRect(0,0,be,h),u.fillStyle="rgba(224, 255, 224, 0.7)",u.fillRect(0,h,be,ue-h-p),u.strokeStyle="#ddd",u.lineWidth=.5;for(let I=0;I<=i;I+=Math.floor(i/10)){const T=ue-I/i*ue;u.beginPath(),u.moveTo(0,T),u.lineTo(be,T),u.stroke()}for(let I=0;I<=10;I++){const T=I/10*be;u.beginPath(),u.moveTo(T,0),u.lineTo(T,ue),u.stroke()}const N=e.mantissaFraction()*be,A=ue-e.storedExponent()/i*ue;u.beginPath(),u.arc(N,A,Zi,0,2*Math.PI),u.fillStyle="#1a73e8",u.fill(),u.strokeStyle="#0056b3",u.lineWidth=1,u.stroke(),u.fillStyle="#333",u.font="10px Arial",u.textAlign="left",u.fillText("0",5,ue-5),u.fillText(`最大指数 (${i})`,5,15),u.textAlign="left",u.fillText("0.0",5,ue-Ht+10),u.textAlign="right",u.fillText("ほぼ1.0",be-5,ue-Ht+10)},l=u=>{if(!t)return;const p=t.getBoundingClientRect();let h=u.clientX-p.left,N=u.clientY-p.top;h=Math.max(0,Math.min(be,h)),N=Math.max(0,Math.min(ue,N));let A=h/be;A>=1&&(A=Math.nextDown(1));const I=Math.round(i*(1-N/ue));e.onPositionChange(I,A)},a=u=>{n=!0,l(u)},g=u=>{n&&l(u)},c=()=>{n=!1};return In(()=>{o()}),Ve(o),(()=>{var u=Ui(),p=u.firstChild,h=p.nextSibling;h.addEventListener("mouseleave",c),h.$$mouseup=c,h.$$mousemove=g,h.$$mousedown=a;var N=t;return typeof N=="function"?xn(N,h):t=h,h.style.setProperty("cursor","crosshair"),h.style.setProperty("border","1px solid black"),u})()};Je(["mousedown","mousemove","mouseup"]);var wt={exports:{}},Jt;function Hi(){return Jt||(Jt=1,function(e){var t=function(n){var i=1e7,r=7,o=9007199254740992,l=A(o),a="0123456789abcdefghijklmnopqrstuvwxyz",g=typeof BigInt=="function";function c(s,f,d,v){return typeof s>"u"?c[0]:typeof f<"u"?+f==10&&!d?P(s):dn(s,f,d,v):P(s)}function u(s,f){this.value=s,this.sign=f,this.isSmall=!1}u.prototype=Object.create(c.prototype);function p(s){this.value=s,this.sign=s<0,this.isSmall=!0}p.prototype=Object.create(c.prototype);function h(s){this.value=s}h.prototype=Object.create(c.prototype);function N(s){return-9007199254740992<s&&s<o}function A(s){return s<1e7?[s]:s<1e14?[s%1e7,Math.floor(s/1e7)]:[s%1e7,Math.floor(s/1e7)%1e7,Math.floor(s/1e14)]}function I(s){T(s);var f=s.length;if(f<4&&$(s,l)<0)switch(f){case 0:return 0;case 1:return s[0];case 2:return s[0]+s[1]*i;default:return s[0]+(s[1]+s[2]*i)*i}return s}function T(s){for(var f=s.length;s[--f]===0;);s.length=f+1}function x(s){for(var f=new Array(s),d=-1;++d<s;)f[d]=0;return f}function V(s){return s>0?Math.floor(s):Math.ceil(s)}function B(s,f){var d=s.length,v=f.length,w=new Array(d),m=0,y=i,b,E;for(E=0;E<v;E++)b=s[E]+f[E]+m,m=b>=y?1:0,w[E]=b-m*y;for(;E<d;)b=s[E]+m,m=b===y?1:0,w[E++]=b-m*y;return m>0&&w.push(m),w}function Z(s,f){return s.length>=f.length?B(s,f):B(f,s)}function ne(s,f){var d=s.length,v=new Array(d),w=i,m,y;for(y=0;y<d;y++)m=s[y]-w+f,f=Math.floor(m/w),v[y]=m-f*w,f+=1;for(;f>0;)v[y++]=f%w,f=Math.floor(f/w);return v}u.prototype.add=function(s){var f=P(s);if(this.sign!==f.sign)return this.subtract(f.negate());var d=this.value,v=f.value;return f.isSmall?new u(ne(d,Math.abs(v)),this.sign):new u(Z(d,v),this.sign)},u.prototype.plus=u.prototype.add,p.prototype.add=function(s){var f=P(s),d=this.value;if(d<0!==f.sign)return this.subtract(f.negate());var v=f.value;if(f.isSmall){if(N(d+v))return new p(d+v);v=A(Math.abs(v))}return new u(ne(v,Math.abs(d)),d<0)},p.prototype.plus=p.prototype.add,h.prototype.add=function(s){return new h(this.value+P(s).value)},h.prototype.plus=h.prototype.add;function W(s,f){var d=s.length,v=f.length,w=new Array(d),m=0,y=i,b,E;for(b=0;b<v;b++)E=s[b]-m-f[b],E<0?(E+=y,m=1):m=0,w[b]=E;for(b=v;b<d;b++){if(E=s[b]-m,E<0)E+=y;else{w[b++]=E;break}w[b]=E}for(;b<d;b++)w[b]=s[b];return T(w),w}function j(s,f,d){var v;return $(s,f)>=0?v=W(s,f):(v=W(f,s),d=!d),v=I(v),typeof v=="number"?(d&&(v=-v),new p(v)):new u(v,d)}function K(s,f,d){var v=s.length,w=new Array(v),m=-f,y=i,b,E;for(b=0;b<v;b++)E=s[b]+m,m=Math.floor(E/y),E%=y,w[b]=E<0?E+y:E;return w=I(w),typeof w=="number"?(d&&(w=-w),new p(w)):new u(w,d)}u.prototype.subtract=function(s){var f=P(s);if(this.sign!==f.sign)return this.add(f.negate());var d=this.value,v=f.value;return f.isSmall?K(d,Math.abs(v),this.sign):j(d,v,this.sign)},u.prototype.minus=u.prototype.subtract,p.prototype.subtract=function(s){var f=P(s),d=this.value;if(d<0!==f.sign)return this.add(f.negate());var v=f.value;return f.isSmall?new p(d-v):K(v,Math.abs(d),d>=0)},p.prototype.minus=p.prototype.subtract,h.prototype.subtract=function(s){return new h(this.value-P(s).value)},h.prototype.minus=h.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},p.prototype.negate=function(){var s=this.sign,f=new p(-this.value);return f.sign=!s,f},h.prototype.negate=function(){return new h(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},p.prototype.abs=function(){return new p(Math.abs(this.value))},h.prototype.abs=function(){return new h(this.value>=0?this.value:-this.value)};function he(s,f){var d=s.length,v=f.length,w=d+v,m=x(w),y=i,b,E,q,R,D;for(q=0;q<d;++q){R=s[q];for(var F=0;F<v;++F)D=f[F],b=R*D+m[q+F],E=Math.floor(b/y),m[q+F]=b-E*y,m[q+F+1]+=E}return T(m),m}function ge(s,f){var d=s.length,v=new Array(d),w=i,m=0,y,b;for(b=0;b<d;b++)y=s[b]*f+m,m=Math.floor(y/w),v[b]=y-m*w;for(;m>0;)v[b++]=m%w,m=Math.floor(m/w);return v}function ie(s,f){for(var d=[];f-- >0;)d.push(0);return d.concat(s)}function de(s,f){var d=Math.max(s.length,f.length);if(d<=30)return he(s,f);d=Math.ceil(d/2);var v=s.slice(d),w=s.slice(0,d),m=f.slice(d),y=f.slice(0,d),b=de(w,y),E=de(v,m),q=de(Z(w,v),Z(y,m)),R=Z(Z(b,ie(W(W(q,b),E),d)),ie(E,2*d));return T(R),R}function Ee(s,f){return-.012*s-.012*f+15e-6*s*f>0}u.prototype.multiply=function(s){var f=P(s),d=this.value,v=f.value,w=this.sign!==f.sign,m;if(f.isSmall){if(v===0)return c[0];if(v===1)return this;if(v===-1)return this.negate();if(m=Math.abs(v),m<i)return new u(ge(d,m),w);v=A(m)}return Ee(d.length,v.length)?new u(de(d,v),w):new u(he(d,v),w)},u.prototype.times=u.prototype.multiply;function we(s,f,d){return s<i?new u(ge(f,s),d):new u(he(f,A(s)),d)}p.prototype._multiplyBySmall=function(s){return N(s.value*this.value)?new p(s.value*this.value):we(Math.abs(s.value),A(Math.abs(this.value)),this.sign!==s.sign)},u.prototype._multiplyBySmall=function(s){return s.value===0?c[0]:s.value===1?this:s.value===-1?this.negate():we(Math.abs(s.value),this.value,this.sign!==s.sign)},p.prototype.multiply=function(s){return P(s)._multiplyBySmall(this)},p.prototype.times=p.prototype.multiply,h.prototype.multiply=function(s){return new h(this.value*P(s).value)},h.prototype.times=h.prototype.multiply;function J(s){var f=s.length,d=x(f+f),v=i,w,m,y,b,E;for(y=0;y<f;y++){b=s[y],m=0-b*b;for(var q=y;q<f;q++)E=s[q],w=2*(b*E)+d[y+q]+m,m=Math.floor(w/v),d[y+q]=w-m*v;d[y+f]=m}return T(d),d}u.prototype.square=function(){return new u(J(this.value),!1)},p.prototype.square=function(){var s=this.value*this.value;return N(s)?new p(s):new u(J(A(Math.abs(this.value))),!1)},h.prototype.square=function(s){return new h(this.value*this.value)};function L(s,f){var d=s.length,v=f.length,w=i,m=x(f.length),y=f[v-1],b=Math.ceil(w/(2*y)),E=ge(s,b),q=ge(f,b),R,D,F,fe,le,gt,dt;for(E.length<=d&&E.push(0),q.push(0),y=q[v-1],D=d-v;D>=0;D--){for(R=w-1,E[D+v]!==y&&(R=Math.floor((E[D+v]*w+E[D+v-1])/y)),F=0,fe=0,gt=q.length,le=0;le<gt;le++)F+=R*q[le],dt=Math.floor(F/w),fe+=E[D+le]-(F-dt*w),F=dt,fe<0?(E[D+le]=fe+w,fe=-1):(E[D+le]=fe,fe=0);for(;fe!==0;){for(R-=1,F=0,le=0;le<gt;le++)F+=E[D+le]-w+q[le],F<0?(E[D+le]=F+w,F=0):(E[D+le]=F,F=1);fe+=F}m[D]=R}return E=Xe(E,b)[0],[I(m),I(E)]}function ft(s,f){for(var d=s.length,v=f.length,w=[],m=[],y=i,b,E,q,R,D;d;){if(m.unshift(s[--d]),T(m),$(m,f)<0){w.push(0);continue}E=m.length,q=m[E-1]*y+m[E-2],R=f[v-1]*y+f[v-2],E>v&&(q=(q+1)*y),b=Math.ceil(q/R);do{if(D=ge(f,b),$(D,m)<=0)break;b--}while(b);w.push(b),m=W(m,D)}return w.reverse(),[I(w),I(m)]}function Xe(s,f){var d=s.length,v=x(d),w=i,m,y,b,E;for(b=0,m=d-1;m>=0;--m)E=b*w+s[m],y=V(E/f),b=E-y*f,v[m]=y|0;return[v,b|0]}function _(s,f){var d,v=P(f);if(g)return[new h(s.value/v.value),new h(s.value%v.value)];var w=s.value,m=v.value,y;if(m===0)throw new Error("Cannot divide by zero");if(s.isSmall)return v.isSmall?[new p(V(w/m)),new p(w%m)]:[c[0],s];if(v.isSmall){if(m===1)return[s,c[0]];if(m==-1)return[s.negate(),c[0]];var b=Math.abs(m);if(b<i){d=Xe(w,b),y=I(d[0]);var E=d[1];return s.sign&&(E=-E),typeof y=="number"?(s.sign!==v.sign&&(y=-y),[new p(y),new p(E)]):[new u(y,s.sign!==v.sign),new p(E)]}m=A(b)}var q=$(w,m);if(q===-1)return[c[0],s];if(q===0)return[c[s.sign===v.sign?1:-1],c[0]];w.length+m.length<=200?d=L(w,m):d=ft(w,m),y=d[0];var R=s.sign!==v.sign,D=d[1],F=s.sign;return typeof y=="number"?(R&&(y=-y),y=new p(y)):y=new u(y,R),typeof D=="number"?(F&&(D=-D),D=new p(D)):D=new u(D,F),[y,D]}u.prototype.divmod=function(s){var f=_(this,s);return{quotient:f[0],remainder:f[1]}},h.prototype.divmod=p.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(s){return _(this,s)[0]},h.prototype.over=h.prototype.divide=function(s){return new h(this.value/P(s).value)},p.prototype.over=p.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(s){return _(this,s)[1]},h.prototype.mod=h.prototype.remainder=function(s){return new h(this.value%P(s).value)},p.prototype.remainder=p.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(s){var f=P(s),d=this.value,v=f.value,w,m,y;if(v===0)return c[1];if(d===0)return c[0];if(d===1)return c[1];if(d===-1)return f.isEven()?c[1]:c[-1];if(f.sign)return c[0];if(!f.isSmall)throw new Error("The exponent "+f.toString()+" is too large.");if(this.isSmall&&N(w=Math.pow(d,v)))return new p(V(w));for(m=this,y=c[1];v&!0&&(y=y.times(m),--v),v!==0;)v/=2,m=m.square();return y},p.prototype.pow=u.prototype.pow,h.prototype.pow=function(s){var f=P(s),d=this.value,v=f.value,w=BigInt(0),m=BigInt(1),y=BigInt(2);if(v===w)return c[1];if(d===w)return c[0];if(d===m)return c[1];if(d===BigInt(-1))return f.isEven()?c[1]:c[-1];if(f.isNegative())return new h(w);for(var b=this,E=c[1];(v&m)===m&&(E=E.times(b),--v),v!==w;)v/=y,b=b.square();return E},u.prototype.modPow=function(s,f){if(s=P(s),f=P(f),f.isZero())throw new Error("Cannot take modPow with modulus 0");var d=c[1],v=this.mod(f);for(s.isNegative()&&(s=s.multiply(c[-1]),v=v.modInv(f));s.isPositive();){if(v.isZero())return c[0];s.isOdd()&&(d=d.multiply(v).mod(f)),s=s.divide(2),v=v.square().mod(f)}return d},h.prototype.modPow=p.prototype.modPow=u.prototype.modPow;function $(s,f){if(s.length!==f.length)return s.length>f.length?1:-1;for(var d=s.length-1;d>=0;d--)if(s[d]!==f[d])return s[d]>f[d]?1:-1;return 0}u.prototype.compareAbs=function(s){var f=P(s),d=this.value,v=f.value;return f.isSmall?1:$(d,v)},p.prototype.compareAbs=function(s){var f=P(s),d=Math.abs(this.value),v=f.value;return f.isSmall?(v=Math.abs(v),d===v?0:d>v?1:-1):-1},h.prototype.compareAbs=function(s){var f=this.value,d=P(s).value;return f=f>=0?f:-f,d=d>=0?d:-d,f===d?0:f>d?1:-1},u.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var f=P(s),d=this.value,v=f.value;return this.sign!==f.sign?f.sign?1:-1:f.isSmall?this.sign?-1:1:$(d,v)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,p.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var f=P(s),d=this.value,v=f.value;return f.isSmall?d==v?0:d>v?1:-1:d<0!==f.sign?d<0?-1:1:d<0?1:-1},p.prototype.compareTo=p.prototype.compare,h.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var f=this.value,d=P(s).value;return f===d?0:f>d?1:-1},h.prototype.compareTo=h.prototype.compare,u.prototype.equals=function(s){return this.compare(s)===0},h.prototype.eq=h.prototype.equals=p.prototype.eq=p.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(s){return this.compare(s)!==0},h.prototype.neq=h.prototype.notEquals=p.prototype.neq=p.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(s){return this.compare(s)>0},h.prototype.gt=h.prototype.greater=p.prototype.gt=p.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(s){return this.compare(s)<0},h.prototype.lt=h.prototype.lesser=p.prototype.lt=p.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(s){return this.compare(s)>=0},h.prototype.geq=h.prototype.greaterOrEquals=p.prototype.geq=p.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(s){return this.compare(s)<=0},h.prototype.leq=h.prototype.lesserOrEquals=p.prototype.leq=p.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return(this.value[0]&1)===0},p.prototype.isEven=function(){return(this.value&1)===0},h.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return(this.value[0]&1)===1},p.prototype.isOdd=function(){return(this.value&1)===1},h.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},p.prototype.isPositive=function(){return this.value>0},h.prototype.isPositive=p.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},p.prototype.isNegative=function(){return this.value<0},h.prototype.isNegative=p.prototype.isNegative,u.prototype.isUnit=function(){return!1},p.prototype.isUnit=function(){return Math.abs(this.value)===1},h.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},p.prototype.isZero=function(){return this.value===0},h.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(s){var f=P(s);return f.isZero()?!1:f.isUnit()?!0:f.compareAbs(2)===0?this.isEven():this.mod(f).isZero()},h.prototype.isDivisibleBy=p.prototype.isDivisibleBy=u.prototype.isDivisibleBy;function k(s){var f=s.abs();if(f.isUnit())return!1;if(f.equals(2)||f.equals(3)||f.equals(5))return!0;if(f.isEven()||f.isDivisibleBy(3)||f.isDivisibleBy(5))return!1;if(f.lesser(49))return!0}function re(s,f){for(var d=s.prev(),v=d,w=0,m,y,b;v.isEven();)v=v.divide(2),w++;e:for(y=0;y<f.length;y++)if(!s.lesser(f[y])&&(b=t(f[y]).modPow(v,s),!(b.isUnit()||b.equals(d)))){for(m=w-1;m!=0;m--){if(b=b.square().mod(s),b.isUnit())return!1;if(b.equals(d))continue e}return!1}return!0}u.prototype.isPrime=function(s){var f=k(this);if(f!==n)return f;var d=this.abs(),v=d.bitLength();if(v<=64)return re(d,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var w=Math.log(2)*v.toJSNumber(),m=Math.ceil(s===!0?2*Math.pow(w,2):w),y=[],b=0;b<m;b++)y.push(t(b+2));return re(d,y)},h.prototype.isPrime=p.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(s,f){var d=k(this);if(d!==n)return d;for(var v=this.abs(),w=s===n?5:s,m=[],y=0;y<w;y++)m.push(t.randBetween(2,v.minus(2),f));return re(v,m)},h.prototype.isProbablePrime=p.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(s){for(var f=t.zero,d=t.one,v=P(s),w=this.abs(),m,y,b;!w.isZero();)m=v.divide(w),y=f,b=v,f=d,v=w,d=y.subtract(m.multiply(d)),w=b.subtract(m.multiply(w));if(!v.isUnit())throw new Error(this.toString()+" and "+s.toString()+" are not co-prime");return f.compare(0)===-1&&(f=f.add(s)),this.isNegative()?f.negate():f},h.prototype.modInv=p.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var s=this.value;return this.sign?K(s,1,this.sign):new u(ne(s,1),this.sign)},p.prototype.next=function(){var s=this.value;return s+1<o?new p(s+1):new u(l,!1)},h.prototype.next=function(){return new h(this.value+BigInt(1))},u.prototype.prev=function(){var s=this.value;return this.sign?new u(ne(s,1),!0):K(s,1,this.sign)},p.prototype.prev=function(){var s=this.value;return s-1>-9007199254740992?new p(s-1):new u(l,!0)},h.prototype.prev=function(){return new h(this.value-BigInt(1))};for(var X=[1];2*X[X.length-1]<=i;)X.push(2*X[X.length-1]);var Q=X.length,ye=X[Q-1];function Ct(s){return Math.abs(s)<=i}u.prototype.shiftLeft=function(s){var f=P(s).toJSNumber();if(!Ct(f))throw new Error(String(f)+" is too large for shifting.");if(f<0)return this.shiftRight(-f);var d=this;if(d.isZero())return d;for(;f>=Q;)d=d.multiply(ye),f-=Q-1;return d.multiply(X[f])},h.prototype.shiftLeft=p.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(s){var f,d=P(s).toJSNumber();if(!Ct(d))throw new Error(String(d)+" is too large for shifting.");if(d<0)return this.shiftLeft(-d);for(var v=this;d>=Q;){if(v.isZero()||v.isNegative()&&v.isUnit())return v;f=_(v,ye),v=f[1].isNegative()?f[0].prev():f[0],d-=Q-1}return f=_(v,X[d]),f[1].isNegative()?f[0].prev():f[0]},h.prototype.shiftRight=p.prototype.shiftRight=u.prototype.shiftRight;function ct(s,f,d){f=P(f);for(var v=s.isNegative(),w=f.isNegative(),m=v?s.not():s,y=w?f.not():f,b=0,E=0,q=null,R=null,D=[];!m.isZero()||!y.isZero();)q=_(m,ye),b=q[1].toJSNumber(),v&&(b=ye-1-b),R=_(y,ye),E=R[1].toJSNumber(),w&&(E=ye-1-E),m=q[0],y=R[0],D.push(d(b,E));for(var F=d(v?1:0,w?1:0)!==0?t(-1):t(0),fe=D.length-1;fe>=0;fe-=1)F=F.multiply(ye).add(t(D[fe]));return F}u.prototype.not=function(){return this.negate().prev()},h.prototype.not=p.prototype.not=u.prototype.not,u.prototype.and=function(s){return ct(this,s,function(f,d){return f&d})},h.prototype.and=p.prototype.and=u.prototype.and,u.prototype.or=function(s){return ct(this,s,function(f,d){return f|d})},h.prototype.or=p.prototype.or=u.prototype.or,u.prototype.xor=function(s){return ct(this,s,function(f,d){return f^d})},h.prototype.xor=p.prototype.xor=u.prototype.xor;var pt=1<<30,pn=(i&-1e7)*(i&-1e7)|pt;function Ge(s){var f=s.value,d=typeof f=="number"?f|pt:typeof f=="bigint"?f|BigInt(pt):f[0]+f[1]*i|pn;return d&-d}function Bt(s,f){if(f.compareTo(s)<=0){var d=Bt(s,f.square(f)),v=d.p,w=d.e,m=v.multiply(f);return m.compareTo(s)<=0?{p:m,e:w*2+1}:{p:v,e:w*2}}return{p:t(1),e:0}}u.prototype.bitLength=function(){var s=this;return s.compareTo(t(0))<0&&(s=s.negate().subtract(t(1))),s.compareTo(t(0))===0?t(0):t(Bt(s,t(2)).e).add(t(1))},h.prototype.bitLength=p.prototype.bitLength=u.prototype.bitLength;function Pt(s,f){return s=P(s),f=P(f),s.greater(f)?s:f}function ht(s,f){return s=P(s),f=P(f),s.lesser(f)?s:f}function Ot(s,f){if(s=P(s).abs(),f=P(f).abs(),s.equals(f))return s;if(s.isZero())return f;if(f.isZero())return s;for(var d=c[1],v,w;s.isEven()&&f.isEven();)v=ht(Ge(s),Ge(f)),s=s.divide(v),f=f.divide(v),d=d.multiply(v);for(;s.isEven();)s=s.divide(Ge(s));do{for(;f.isEven();)f=f.divide(Ge(f));s.greater(f)&&(w=f,f=s,s=w),f=f.subtract(s)}while(!f.isZero());return d.isUnit()?s:s.multiply(d)}function hn(s,f){return s=P(s).abs(),f=P(f).abs(),s.divide(Ot(s,f)).multiply(f)}function gn(s,f,d){s=P(s),f=P(f);var v=d||Math.random,w=ht(s,f),m=Pt(s,f),y=m.subtract(w).add(1);if(y.isSmall)return w.add(Math.floor(v()*y));for(var b=ke(y,i).value,E=[],q=!0,R=0;R<b.length;R++){var D=q?b[R]+(R+1<b.length?b[R+1]/i:0):i,F=V(v()*D);E.push(F),F<b[R]&&(q=!1)}return w.add(c.fromArray(E,i,!1))}var dn=function(s,f,d,v){d=d||a,s=String(s),v||(s=s.toLowerCase(),d=d.toLowerCase());var w=s.length,m,y=Math.abs(f),b={};for(m=0;m<d.length;m++)b[d[m]]=m;for(m=0;m<w;m++){var E=s[m];if(E!=="-"&&E in b&&b[E]>=y){if(E==="1"&&y===1)continue;throw new Error(E+" is not a valid digit in base "+f+".")}}f=P(f);var q=[],R=s[0]==="-";for(m=R?1:0;m<s.length;m++){var E=s[m];if(E in b)q.push(P(b[E]));else if(E==="<"){var D=m;do m++;while(s[m]!==">"&&m<s.length);q.push(P(s.slice(D+1,m)))}else throw new Error(E+" is not a valid character")}return qt(q,f,R)};function qt(s,f,d){var v=c[0],w=c[1],m;for(m=s.length-1;m>=0;m--)v=v.add(s[m].times(w)),w=w.times(f);return d?v.negate():v}function vn(s,f){return f=f||a,s<f.length?f[s]:"<"+s+">"}function ke(s,f){if(f=t(f),f.isZero()){if(s.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(f.equals(-1)){if(s.isZero())return{value:[0],isNegative:!1};if(s.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-s.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var d=Array.apply(null,Array(s.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return d.unshift([1]),{value:[].concat.apply([],d),isNegative:!1}}var v=!1;if(s.isNegative()&&f.isPositive()&&(v=!0,s=s.abs()),f.isUnit())return s.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(s.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:v};for(var w=[],m=s,y;m.isNegative()||m.compareAbs(f)>=0;){y=m.divmod(f),m=y.quotient;var b=y.remainder;b.isNegative()&&(b=f.minus(b).abs(),m=m.next()),w.push(b.toJSNumber())}return w.push(m.toJSNumber()),{value:w.reverse(),isNegative:v}}function xt(s,f,d){var v=ke(s,f);return(v.isNegative?"-":"")+v.value.map(function(w){return vn(w,d)}).join("")}u.prototype.toArray=function(s){return ke(this,s)},p.prototype.toArray=function(s){return ke(this,s)},h.prototype.toArray=function(s){return ke(this,s)},u.prototype.toString=function(s,f){if(s===n&&(s=10),s!==10||f)return xt(this,s,f);for(var d=this.value,v=d.length,w=String(d[--v]),m="0000000",y;--v>=0;)y=String(d[v]),w+=m.slice(y.length)+y;var b=this.sign?"-":"";return b+w},p.prototype.toString=function(s,f){return s===n&&(s=10),s!=10||f?xt(this,s,f):String(this.value)},h.prototype.toString=p.prototype.toString,h.prototype.toJSON=u.prototype.toJSON=p.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,p.prototype.valueOf=function(){return this.value},p.prototype.toJSNumber=p.prototype.valueOf,h.prototype.valueOf=h.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function Dt(s){if(N(+s)){var f=+s;if(f===V(f))return g?new h(BigInt(f)):new p(f);throw new Error("Invalid integer: "+s)}var d=s[0]==="-";d&&(s=s.slice(1));var v=s.split(/e/i);if(v.length>2)throw new Error("Invalid integer: "+v.join("e"));if(v.length===2){var w=v[1];if(w[0]==="+"&&(w=w.slice(1)),w=+w,w!==V(w)||!N(w))throw new Error("Invalid integer: "+w+" is not a valid exponent.");var m=v[0],y=m.indexOf(".");if(y>=0&&(w-=m.length-y-1,m=m.slice(0,y)+m.slice(y+1)),w<0)throw new Error("Cannot include negative exponent part for integers");m+=new Array(w+1).join("0"),s=m}var b=/^([0-9][0-9]*)$/.test(s);if(!b)throw new Error("Invalid integer: "+s);if(g)return new h(BigInt(d?"-"+s:s));for(var E=[],q=s.length,R=r,D=q-R;q>0;)E.push(+s.slice(D,q)),D-=R,D<0&&(D=0),q-=R;return T(E),new u(E,d)}function mn(s){if(g)return new h(BigInt(s));if(N(s)){if(s!==V(s))throw new Error(s+" is not an integer.");return new p(s)}return Dt(s.toString())}function P(s){return typeof s=="number"?mn(s):typeof s=="string"?Dt(s):typeof s=="bigint"?new h(s):s}for(var xe=0;xe<1e3;xe++)c[xe]=P(xe),xe>0&&(c[-xe]=P(-xe));return c.one=c[1],c.zero=c[0],c.minusOne=c[-1],c.max=Pt,c.min=ht,c.gcd=Ot,c.lcm=hn,c.isInstance=function(s){return s instanceof u||s instanceof p||s instanceof h},c.randBetween=gn,c.fromArray=function(s,f,d){return qt(s.map(P),P(f||10),d)},c}();e.hasOwnProperty("exports")&&(e.exports=t)}(wt)),wt.exports}var yt,Xt;function Ji(){if(Xt)return yt;Xt=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,r=(u,p)=>{for(var h in p)e(u,h,{get:p[h],enumerable:!0})},o=(u,p,h,N)=>{if(p&&typeof p=="object"||typeof p=="function")for(let A of n(p))!i.call(u,A)&&A!==h&&e(u,A,{get:()=>p[A],enumerable:!(N=t(p,A))||N.enumerable});return u},l=u=>o(e({},"__esModule",{value:!0}),u),a={};r(a,{BigRational:()=>c}),yt=l(a);var g=Hi(),c=class $e{constructor(p,h){if(h===0n)throw new Error("Denominator can't be zero");return this.numerator=p,this.denominator=h,this}abs(){const p=h=>h>=0n?h:-h;return new $e(p(this.numerator),p(this.denominator))}negate(){return new $e(-this.numerator,this.denominator)}add(p){const[h,N]=p.toPair(),A=h*this.denominator+this.numerator*N,I=this.denominator*N;return new $e(A,I)}subtract(p){return this.add(p.negate())}inverse(){return new $e(this.denominator,this.numerator)}mul(p){return new $e(p.numerator*this.numerator,p.denominator*this.denominator)}div(p){return this.mul(p.inverse())}getNumerator(){return this.numerator}getDenominator(){return this.denominator}toPair(){return[this.numerator,this.denominator]}lte(p){const[h,N]=p.toPair();return N>0n&&this.denominator<0n||N<0n&&this.denominator>0n?this.numerator*N>=h*this.denominator:this.numerator*N<=h*this.denominator}lt(p){return this.lte(p)&&!p.lte(this)}eq(p){return this.lte(p)&&p.lte(this)}gte(p){return p.lte(this)}gt(p){return p.lt(this)}reduce(){const[p,h]=this.toPair(),N=$e.gcd(p,h);return new $e(p/N,h/N)}static gcd(p,h){return BigInt((0,g.gcd)(p,h).toString())}toString(){return`${this.numerator} / ${this.denominator}`}isPositive(){return this.numerator>0n&&this.denominator>0n||this.numerator<0n&&this.denominator<0n}isNegative(){return this.numerator!==0n&&!this.isPositive()}};return yt}var Xi=Ji();function Mt(e){const t=String(e).trim();if(t==="")throw new Error("Input value cannot be empty.");if(t.toLowerCase().includes("e")){const l=Number(t);if(isNaN(l)||!isFinite(l))throw new Error(`Invalid scientific notation input: "${t}"`);let a=0;if(l!==0){const u=t.toLowerCase().split("e");if(u.length===2){const p=parseInt(u[1],10);if(!isNaN(p)){const h=u[0].split(".");h.length===2?a=h[1].length-p:a=-p,a=Math.max(0,a)}}}const c=Math.min(a,20);return Mt(l.toFixed(c))}const n=t.split(".");let i=n[0],r=1n;if(n.length>2)throw new Error(`Invalid number format: "${t}"`);if(n.length===2){const l=n[1];if(!/^\d+$/.test(l))throw new Error(`Invalid characters in decimal part: "${l}"`);i+=l,r=BigInt("1"+"0".repeat(l.length))}if(!/^-?\d+$/.test(i))throw new Error(`Invalid characters in number: "${i}"`);const o=BigInt(i);if(r===0n)throw new Error("Denominator cannot be zero.");return new Xi.BigRational(o,r).reduce()}var Gi=Me('<div class=app-container><h1>IEEE 754 浮動小数点数シミュレータ</h1><div class=interactive-controls-section><div style="flex-basis:320px;/* Adjust as needed based on VisualValueAdjuster width */"></div><div class=sliders-and-bits-group></div> </div> ');const zi=()=>{const[e,t]=pe("3.14159"),[n,i]=pe("0"),[r,o]=pe(""),[l,a]=pe(""),[g,c]=pe(0),[u,p]=pe(0),[h,N]=pe(!0),[A,I]=pe(!1),[T,x]=pe(!1),[V,B]=pe(null),[Z,ne]=pe(null),[W,j]=pe(null),K=(_,$)=>{const k=_.split("");return $>=0&&$<k.length?(k[$]=k[$]==="0"?"1":"0",k.join("")):_};Ve(()=>{const _=e();(h()||Ie(()=>!n()&&!r()&&!l()))&&Ie(()=>{const $=Pi(_);if(i($.sign),o($.exponent),a($.significand),$.isSpecial)c((1<<ee)-1),$.originalInput==="NaN"?p(.5):p(0);else{if($.exponent){const k=parseInt($.exponent,2);c(k)}else c(0);$.significand?p(Ut($.significand)):p(0)}})});const he=_=>{N(!0),I(!1),x(!1),t(_)};Ve(()=>{const _=e();if(console.log("[Debug] ExactRationalEffect: decimalStringInput changed to:",_),_.trim()===""){B(null),j(null),console.log("[Debug] ExactRationalEffect: Input trimmed to empty. Set exactRationalValue to null.");return}try{const $=Mt(_);B($),j(null),console.log("[Debug] ExactRationalEffect: Successfully converted. ExactRational:",$.toString())}catch($){B(null);const k=$.message||"Invalid input for rational conversion.";j(k),console.error("[Debug] ExactRationalEffect: Error converting input. Error:",k,"Input:",_)}});const ge=()=>{N(!1),I(!0),x(!1),i(_=>_==="0"?"1":"0")},ie=_=>{N(!1),I(!0),x(!1),o($=>K($,_))},de=_=>{N(!1),I(!0),x(!1),a($=>K($,_))},Ee=bt(()=>{const _=n(),$=r(),k=l();if(_.length===1&&$.length===ee&&k.length===ce&&/^[01]+$/.test(_+$+k)){const re=Vt(_,$,k);return A()&&Ie(()=>{if(typeof re=="object"&&re!==null){const Q=re.originalString!==void 0?re.originalString:re.value;Q!==e()&&t(Q)}const X=parseInt($,2);c(X),p(Ut(k)),X===(1<<ee)-1&&(parseInt(k,2)===0?p(0):p(.5))}),re}return _===""&&$===""&&k===""?"":T()?"スライダー調整中...":"ビット入力が無効または不完全"});Ve(()=>{const _=Ee();if(console.log("[Debug] FloatApproxEffect: decimalFromBits changed. bitsResult:",_),typeof _=="object"&&_!==null&&typeof _.value=="number"&&isFinite(_.value))try{const $=Mt(_.value);ne($),console.log("[Debug] FloatApproxEffect: Successfully converted float approx. FloatApproxRational:",$.toString(),"Input number was:",_.value)}catch($){console.error("[Debug] FloatApproxEffect: Error converting float approx. Error:",$.message,"Input number was:",_.value),ne(null)}else typeof _=="object"&&_!==null&&(_.originalString==="NaN"||_.originalString==="Infinity"||_.originalString==="-Infinity")?(console.log("[Debug] FloatApproxEffect: bitsResult is NaN/Infinity. Setting FloatApproxRational to null. OriginalString:",_.originalString),ne(null)):(console.log("[Debug] FloatApproxEffect: bitsResult is not a convertible object or is an error string. Setting FloatApproxRational to null. bitsResult:",_),ne(null))});const we=()=>{x(!0),N(!1),I(!1),Ie(()=>{const _=n(),$=g(),k=u();let re=$.toString(2).padStart(ee,"0"),X=Oi(k,ce);$===(1<<ee)-1&&(k===0?X="0".repeat(ce):X="1"+"0".repeat(ce-1)),o(re),a(X);const Q=Vt(_,re,X);if(typeof Q=="object"&&Q!==null){const ye=Q.originalString!==void 0?Q.originalString:Q.value;ye!==e()&&t(ye)}else typeof Q=="string"&&Q!==e()&&t(Q)})},J=bt(()=>{const _=e();if(_.trim()==="")return"";const $=parseFloat(_);return isNaN($)&&_!=="NaN"&&_.toLowerCase()!=="infinity"&&_!=="-infinity"&&_.trim()!==""&&_!=="-"&&!_.endsWith(".")?"無効な数値入力":_}),L=_=>{c(_),we()},ft=_=>{p(_),we()},Xe=(_,$)=>{c(_);const k=(Math.pow(2,ce)-1)/Math.pow(2,ce);p(Math.min($,k)),we()};return(()=>{var _=Gi(),$=_.firstChild,k=$.nextSibling,re=k.firstChild,X=re.nextSibling;return k.nextSibling,H(_,De(Rn,{value:e,onInput:he}),k),H(re,De(ji,{storedExponent:g,mantissaFraction:u,onPositionChange:Xe})),H(X,De(Fi,{value:g,onInput:L}),null),H(X,De(Vi,{value:u,onInput:ft}),null),H(X,De(xi,{sign:n,exponent:r,significand:l,onSignBitClick:ge,onExponentBitClick:ie,onSignificandBitClick:de}),null),H(_,De(Ri,{decimalFromBits:Ee,originalInput:J,exactRationalValue:V,floatApproximationAsRational:Z,rationalConversionError:W}),null),_})()};On(()=>De(zi,{}),document.getElementById("root"));
